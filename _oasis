OASISFormat: 0.4
Name:        mdns
Version:     0.0.1
Synopsis:    Multicast DNS responder and resolver in OCaml
Authors:     Luke Dunstan
License:     ISC
Plugins:     META (0.3)
BuildTools:  ocamlbuild

Flag lwt
  Description: build the Lwt library
  Default: false

Flag mirage
  Description: build the Mirage library
  Default: false

Flag async
  Description: build the Async library
  Default: false

Flag todo
  Description: not yet implemented
  Default: false

Library mdns
  Path: lib
#  Build$: flag(todo)
#  Install$: flag(todo)
  Findlibname: mdns
  Pack: true
  Modules:
    Protocol
  BuildDepends:	cstruct (>= 0.7.1), cstruct.syntax, re, re.str, ipaddr (>= 2.2.0), base64, dns
  XMetaRequires: cstruct, re, re.str, ipaddr, base64, dns

Library "mdns-lwt-core"
  Path: lwt
  Build$: flag(lwt)
  Install$: flag(lwt)
  Findlibname: lwt-core
  Modules: Mdns_server
  BuildDepends: mdns, lwt.unix (>= 2.4.1), cstruct.lwt, lwt.syntax, dns, dns.lwt-core, ipaddr.unix
  XMetaRequires: mdns, lwt.unix, cstruct.lwt, dns, dns.lwt-core, ipaddr.unix
  FindlibParent: mdns

#Library "mdns-unix"
#  Path: lwt
#  Build$: flag(lwt) && flag(todo)
#  Install$: flag(lwt) && flag(todo)
#  Findlibname: unix
#  Modules: Mdns_server_unix, Mdns_resolver_unix
#  BuildDepends: lwt.unix (>= 2.4.1), cstruct.lwt, lwt.syntax, mdns, mdns.lwt-core, ipaddr.unix
#  XMetaRequires: lwt.unix, cstruct.lwt, mdns, mdns.lwt-core, ipaddr.unix
#  FindlibParent: mdns

#Library "mdns-mirage"
#  Path: mirage
#  Build$: flag(mirage) && flag(todo)
#  Install$: flag(mirage) && flag(todo)
#  Findlibname: mirage
#  Modules: Mdns_resolver_mirage
#  BuildDepends: cstruct, lwt.syntax, mdns, mdns.lwt-core, mirage-types, io-page
#  XMetaRequires: cstruct, mdns, mdns.lwt-core, tcpip, mirage-types, io-page
#  FindlibParent: mdns

#Library "mdns-async"
#  Path: async
#  Build$: flag(async) && flag(todo)
#  Install$: flag(async) && flag(todo)
#  Findlibname: async
#  Modules: Async_mdns_resolver, Async_mdns_resolver_unix
#  BuildDepends: async, ipaddr, mdns, core.syntax, threads
#  XMetaRequires: async, ipaddr, mdns, threads
#  FindlibParent: mdns

Executable "mdns_resolve"
  Path:             lib_test/unix
  MainIs:           mdns_resolve.ml
  Build$:           flag(tests) && flag(lwt)
  BuildDepends:     lwt, lwt.unix, lwt.syntax, dns, dns.lwt, ipaddr
  CompiledObject:   byte
  Custom:           true
  Install:          false


